!function(){"use strict";class e{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._targetNode=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._targetNode.append(this._renderer(e))}))}addItem(e){this._targetNode.prepend(this._renderer(e))}}var t=class{constructor(e,t,s,r,i){this.name=e.name,this.link=e.link,this._id=e._id,this.isLiked=e.isLiked,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteButton=r,this._handleLikeButton=i}_getTemplate(){return document.querySelector("#card-template").content.firstElementChild.cloneNode(!0)}generateCard(){return this._element=this._getTemplate(),this._setEventListeners(),this._setLikeIconState(),this._element.querySelector(".card__title-text").textContent=this.name,this._cardImageElement.src=this.link,this._cardImageElement.alt=this.name,this._element}_setEventListeners(){this._cardLikeButton=this._element.querySelector(".card__fav-icon"),this._cardDeleteButton=this._element.querySelector(".card__trash-icon"),this._cardImageElement=this._element.querySelector(".card__image"),this._cardLikeButton.addEventListener("click",(()=>{this._handleLikeButton(this).then((()=>this._toggleLike())).catch((e=>{console.error(e)}))})),this._cardDeleteButton.addEventListener("click",(()=>{this._handleDeleteButton(this)})),this._cardImageElement.addEventListener("click",(()=>{this._handleImageClick(this)}))}_setLikeIconState(){this.isLiked?this._cardLikeButton.classList.add("card__fav-icon_active"):this._cardLikeButton.classList.remove("card__fav-icon_active")}_toggleLike(){this._cardLikeButton.classList.toggle("card__fav-icon_active"),this.isLiked=!this.isLiked}handleDeleteConfirm(){this._element.remove(),this._element=null}},s=class{constructor(e,t){this._config=e,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)}_showInputError(e,t){const s=this._formElement.querySelector(`.${e.id}-error-message`);e.classList.add(this._config.inputErrorClass),s.classList.add(this._config.errorClass),s.textContent=t}_hideInputError(e){const t=this._formElement.querySelector(`.${e.id}-error-message`);t&&(e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass))}_checkValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():this._enableButton()}disableButton(){this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.setAttribute("disabled","")}_enableButton(){this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.removeAttribute("disabled")}_handleInput(e){this._toggleButtonState(),this._checkValidity(e)}_setEventListeners(){this.disableButton(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._handleInput.bind(this)(e)}))}))}enableValidation(){this._setEventListeners()}resetValidation(){this.disableButton(),this._inputList.forEach((e=>{this._hideInputError(e)}))}};class r{constructor(e){let{popupSelector:t}=e;this._popup=document.querySelector(t),this._modalIsOpenedClassName="modal_opened",this._escPressed=!1,this._listenerSet=!1,this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popup.classList.add(this._modalIsOpenedClassName),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove(this._modalIsOpenedClassName),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._closeModalWindowBtn=this._popup.querySelector(".modal__close-btn"),this._closeModalWindowBtn.addEventListener("click",(()=>{this.close()})),this._popup.addEventListener("click",(e=>{const t=this.close.bind(this);e.target.classList.contains("modal")&&t()}))}_handleEscClose(e){"Escape"===e.key&&this.close()}}var i=class extends r{constructor(e,t,s,r){super({popupSelector:e}),this._form=document.forms[t],this._handleFormSubmit=s,this._inputList=this._form.querySelectorAll("input"),this._submitBtn=this._form.querySelector(".form__submit"),this._submitText=r,this._setButtonText()}_getInputValues(){return this._inputValues={},this._inputList.forEach((e=>{this._inputValues[e.name]=e.value})),this._inputValues}_setButtonText(){this._submitBtn.textContent=this._submitText}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}resetForm(){this._form.reset()}savingDisplay(e){!0===e?this._submitBtn.textContent="Saving...":this._setButtonText()}};class n{constructor(e,t,s){this._name=document.querySelector(e),this._about=document.querySelector(t),this._avatar=document.querySelector(s)}getUserInfo(){return{name:this._name.textContent,about:this._about.textContent}}setUserInfo(e){let{name:t,about:s}=e;this._name.textContent=t,this._about.textContent=s}setAvatar(e){let{avatar:t}=e;this._avatar.src=t}}const a=document.querySelector(".explorer__edit-button"),o=document.querySelector(".explorer__add-button"),l=document.querySelector(".explorer__photo-overlay"),h={};var c;c={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"form__submit_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__error-message_active"},Array.from(document.querySelectorAll(c.formSelector)).forEach((e=>{const t=new s(c,e),r=e.getAttribute("name");h[r]=t,t.enableValidation()}));const _=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}_request(e,t){return fetch(e,t).then(this._checkResponse)}getUserInfo(){return this._request(`${this._baseUrl}/users/me`,{headers:this._headers}).then((e=>e))}patchUserInfo(e){let{name:t,about:s}=e;return this._request(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:s})})}patchAvatar(e){let{avatar:t}=e;return this._request(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})})}getInitialCards(){return this._request(`${this._baseUrl}/cards`,{headers:this._headers}).then((e=>e))}postCard(e){return this._request(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then((e=>e))}deleteCard(e){return this._request(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers})}setLike(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers,body:JSON.stringify({isLiked:!0})})}removeLike(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"9e620f98-b2bc-4f4a-81bd-341fb1cf797f","Content-Type":"application/json"}});_.getUserInfo().then((e=>{const t=new n(".explorer__name",".explorer__description",".explorer__photo");return t.setUserInfo({name:e.name,about:e.about}),t.setAvatar({avatar:e.avatar}),t})).then((e=>{const t=new i(".modal_type_profile","profile-form",(function(s){t.savingDisplay(!0),_.patchUserInfo(s).then((()=>{e.setUserInfo(s),t.close()})).catch((e=>{console.error(e)})).finally((()=>{t.savingDisplay(!1)}))}),"Save");t.setEventListeners(),a.addEventListener("click",(()=>{h["profile-form"].resetValidation();const s=e.getUserInfo();t.setInputValues(s),t.open()}));const s=new i(".modal_type_avatar","avatar-form",(function(t){s.savingDisplay(!0),_.patchAvatar(t).then((()=>{e.setAvatar(t),s.resetForm(),s.close(),h["avatar-form"].disableButton()})).catch((e=>{console.error(e)})).finally((()=>{s.savingDisplay(!1)}))}),"Save");s.setEventListeners(),l.addEventListener("click",(()=>{s.open()}))})).catch((e=>console.error(e)));const d=e=>{b.open(e)},u=e=>!1===e.isLiked?_.setLike(e._id):_.removeLike(e._id);let m;_.getInitialCards().then((s=>{m=new e({items:s,renderer:e=>new t(e,".card",f,d,u).generateCard()},".cards__list"),m.renderItems()})).catch((e=>console.error(e)));const p=new i(".modal_type_add-card","card-form",(e=>{p.savingDisplay(!0),_.postCard(e).then((e=>{m.addItem(e),p.close(),p.resetForm(),h["card-form"].disableButton()})).catch((e=>console.error(e))).finally((()=>{p.savingDisplay(!1)}))}),"Create");p.setEventListeners(),o.addEventListener("click",(()=>{p.open()}));const v=new class extends r{constructor(e){super({popupSelector:e}),this._image=this._popup.querySelector(".modal__image"),this._imageLable=this._popup.querySelector(".modal__image-lable")}open(e,t){this._image.src=e,this._image.alt=t,this._imageLable.textContent=t,super.open()}}(".modal_type_show-image"),f=e=>{v.open(e.link,e.name)};v.setEventListeners();const b=new class extends r{constructor(e,t){super({popupSelector:e}),this._btn=this._popup.querySelector(".modal__confirm-btn"),this._handleConfirm=t}open(e){this._target=e,super.open()}setEventListeners(){super.setEventListeners(),this._btn.addEventListener("click",(()=>{this._handleConfirm(this._target)}))}}(".modal_type_confirm",(e=>{_.deleteCard(e._id).then((()=>{e.handleDeleteConfirm(),b.close()})).catch((e=>{console.error(e)}))}));b.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QiIsInNvdXJjZXMiOlsid2VicGFjazovL3RyaXBsZV90ZW4vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3RyaXBsZV90ZW4vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3RyaXBsZV90ZW4vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3RyaXBsZV90ZW4vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly90cmlwbGVfdGVuLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vdHJpcGxlX3Rlbi8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vdHJpcGxlX3Rlbi8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3RyaXBsZV90ZW4vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdHJpcGxlX3Rlbi8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vdHJpcGxlX3Rlbi8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly90cmlwbGVfdGVuLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIHRhcmdldE5vZGVTZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7IC8vc2hvdWxkIGJlIGFycmF5XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjsgLy9mdW5jdGlvblxuICAgIHRoaXMuX3RhcmdldE5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldE5vZGVTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl90YXJnZXROb2RlLmFwcGVuZCh0aGlzLl9yZW5kZXJlcihpdGVtKSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGl0ZW0pIHtcbiAgICB0aGlzLl90YXJnZXROb2RlLnByZXBlbmQodGhpcy5fcmVuZGVyZXIoaXRlbSkpO1xuICB9XG59XG4iLCJjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcbiAgICBoYW5kbGVEZWxldGVCdXR0b24sXG4gICAgaGFuZGxlTGlrZUJ1dHRvblxuICApIHtcbiAgICB0aGlzLm5hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5pc0xpa2VkID0gZGF0YS5pc0xpa2VkO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24gPSBoYW5kbGVEZWxldGVCdXR0b247XG4gICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbiA9IGhhbmRsZUxpa2VCdXR0b247XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKVxuICAgICAgLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3NldExpa2VJY29uU3RhdGUoKTtcblxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZS10ZXh0XCIpLnRleHRDb250ZW50ID0gdGhpcy5uYW1lO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQuc3JjID0gdGhpcy5saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQuYWx0ID0gdGhpcy5uYW1lO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2FyZExpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZmF2LWljb25cIik7XG4gICAgdGhpcy5fY2FyZERlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190cmFzaC1pY29uXCIpO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG5cbiAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbih0aGlzKVxuICAgICAgICAudGhlbigoKSA9PiB0aGlzLl90b2dnbGVMaWtlKCkpXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLl9jYXJkRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24odGhpcyk7XG4gICAgfSk7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9zZXRMaWtlSWNvblN0YXRlKCkge1xuICAgIHRoaXMuaXNMaWtlZFxuICAgICAgPyB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fZmF2LWljb25fYWN0aXZlXCIpXG4gICAgICA6IHRoaXMuX2NhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19mYXYtaWNvbl9hY3RpdmVcIik7XG4gIH1cblxuICBfdG9nZ2xlTGlrZSgpIHtcbiAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fZmF2LWljb25fYWN0aXZlXCIpO1xuICAgIHRoaXMuaXNMaWtlZCA9ICF0aGlzLmlzTGlrZWQ7XG4gIH1cblxuICBoYW5kbGVEZWxldGVDb25maXJtKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7IC8vcmVtb3ZlIHRoZSBsaW5rIHRvIHRoZSBET00gZWxlbWVudCBhZnRlciBkZWxldGluZyBhIGNhcmQuIEl0IGhlbHBzIGphdmFzY3JpcHQgZ2FyYmFnZSBjb2xsZWN0b3IuXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpXG4gICAgKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX2NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3ItbWVzc2FnZWBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yLW1lc3NhZ2VgXG4gICAgKTtcbiAgICBpZiAoZXJyb3JFbGVtZW50KSB7XG4gICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcbiAgICB9XG4gIH1cblxuICBfY2hlY2tWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpID8gdGhpcy5kaXNhYmxlQnV0dG9uKCkgOiB0aGlzLl9lbmFibGVCdXR0b24oKTtcbiAgfVxuXG4gIGRpc2FibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAvL2FkZCBhdHRyaWJ1dGUgXCJkaXNhYmxlZFwiIHRvIHByZXZlbnQgc3VibWl0IG9uIFwiRW50ZXJcIlxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJcIik7XG4gIH1cblxuICBfZW5hYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgfVxuXG4gIF9oYW5kbGVJbnB1dChpbnB1dEVsZW1lbnQpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX2NoZWNrVmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudEhhbmRsZSA9IHRoaXMuX2hhbmRsZUlucHV0LmJpbmQodGhpcyk7XG4gICAgICAgIGN1cnJlbnRIYW5kbGUoaW5wdXRFbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuZGlzYWJsZUJ1dHRvbigpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fbW9kYWxJc09wZW5lZENsYXNzTmFtZSA9IFwibW9kYWxfb3BlbmVkXCI7XG4gICAgdGhpcy5fZXNjUHJlc3NlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2xpc3RlbmVyU2V0ID0gZmFsc2U7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKHRoaXMuX21vZGFsSXNPcGVuZWRDbGFzc05hbWUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fbW9kYWxJc09wZW5lZENsYXNzTmFtZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2xvc2VNb2RhbFdpbmRvd0J0biA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcbiAgICB0aGlzLl9jbG9zZU1vZGFsV2luZG93QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50SGFuZGxlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xuICAgICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbFwiKSkge1xuICAgICAgICBjdXJyZW50SGFuZGxlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuY2xhc3MgUG9wdXBDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUNvbmZpcm0pIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5fYnRuID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY29uZmlybS1idG5cIik7XG4gICAgdGhpcy5faGFuZGxlQ29uZmlybSA9IGhhbmRsZUNvbmZpcm07XG4gIH1cblxuICBvcGVuKHRhcmdldCkge1xuICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ29uZmlybSh0aGlzLl90YXJnZXQpO1xuICAgIH0pO1xuICAgIC8vd2UgY2FuIGFkZCBvdGhlciBjb25maXJtYXRpb25zIGhlcmVcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cENvbmZpcm1hdGlvbjtcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5jbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBmb3JtU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQsIHN1Ym1pdFRleHQpIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5fZm9ybSA9IGRvY3VtZW50LmZvcm1zW2Zvcm1TZWxlY3Rvcl07XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIik7XG4gICAgdGhpcy5fc3VibWl0QnRuID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3N1Ym1pdFwiKTtcbiAgICB0aGlzLl9zdWJtaXRUZXh0ID0gc3VibWl0VGV4dDtcbiAgICB0aGlzLl9zZXRCdXR0b25UZXh0KCk7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5faW5wdXRWYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2lucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0VmFsdWVzO1xuICB9XG5cbiAgX3NldEJ1dHRvblRleHQoKSB7XG4gICAgdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0VGV4dDtcbiAgfVxuXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIC8vIGhlcmUgeW91IGluc2VydCB0aGUgYHZhbHVlYCBieSB0aGUgYG5hbWVgIG9mIHRoZSBpbnB1dFxuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0Rm9ybSgpIHtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gIH1cblxuICBzYXZpbmdEaXNwbGF5KGlzU2F2aW5nKSB7XG4gICAgaWYgKGlzU2F2aW5nID09PSB0cnVlKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3NldEJ1dHRvblRleHQoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoRm9ybTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IobmFtZVNlbGVjdG9yLCBkZXNjcmlwdGlvblNlbGVjdG9yLCBhdmF0YXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fYWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRlc2NyaXB0aW9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgY29uc3QgbmFtZSA9IHRoaXMuX25hbWUudGV4dENvbnRlbnQ7XG4gICAgY29uc3QgYWJvdXQgPSB0aGlzLl9hYm91dC50ZXh0Q29udGVudDtcbiAgICBjb25zdCB1c2VySW5mbyA9IHsgbmFtZSwgYWJvdXQgfTtcbiAgICByZXR1cm4gdXNlckluZm87XG4gIH1cblxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IGFib3V0O1xuICB9XG5cbiAgc2V0QXZhdGFyICh7IGF2YXRhciB9KSB7XG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcbiAgfVxufVxuIiwiaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFBvcHVwQ29uZmlybWF0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwQ29uZmlybWF0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IHsgdmFsaWRhdGlvbkNvbmZpZyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuXG5jb25zdCBlZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5leHBsb3Jlcl9fZWRpdC1idXR0b25cIik7XG5jb25zdCBhZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmV4cGxvcmVyX19hZGQtYnV0dG9uXCIpO1xuY29uc3QgYXZhdGFyQ2hhbmdlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5leHBsb3Jlcl9fcGhvdG8tb3ZlcmxheVwiKTtcblxuLy8gZGVmaW5lIGFuIG9iamVjdCBmb3Igc3RvcmluZyB2YWxpZGF0b3JzXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xuXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudCk7XG4gICAgLy8gZ2V0IHRoZSBuYW1lIG9mIHRoZSBmb3JtXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuICAgIC8vIHN0b3JlIHRoZSB2YWxpZGF0b3IgdXNpbmcgdGhlIGBuYW1lYCBvZiB0aGUgZm9ybVxuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICB9KTtcbn07XG5cbmVuYWJsZVZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZyk7XG5cbi8vYXBpXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCI5ZTYyMGY5OC1iMmJjLTRmNGEtODFiZC0zNDFmYjFjZjc5N2ZcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG4vL3VzZXJcbmFwaVxuICAuZ2V0VXNlckluZm8oKVxuICAudGhlbigodXNlckluZm8pID0+IHtcbiAgICAvL3NldCB1c2VyIGluZm9cbiAgICBjb25zdCB1c2VyID0gbmV3IFVzZXJJbmZvKFxuICAgICAgXCIuZXhwbG9yZXJfX25hbWVcIixcbiAgICAgIFwiLmV4cGxvcmVyX19kZXNjcmlwdGlvblwiLFxuICAgICAgXCIuZXhwbG9yZXJfX3Bob3RvXCJcbiAgICApO1xuICAgIHVzZXIuc2V0VXNlckluZm8oe1xuICAgICAgbmFtZTogdXNlckluZm8ubmFtZSxcbiAgICAgIGFib3V0OiB1c2VySW5mby5hYm91dCxcbiAgICB9KTtcbiAgICB1c2VyLnNldEF2YXRhcih7IGF2YXRhcjogdXNlckluZm8uYXZhdGFyIH0pO1xuICAgIHJldHVybiB1c2VyO1xuICB9KVxuICAudGhlbigodXNlcikgPT4ge1xuICAgIC8vY2FobmdpbmcgdXNlciBkZXRhaWxzXG4gICAgZnVuY3Rpb24gc2F2ZVByb2ZpbGVDaGFuZ2VzKG5ld1VzZXJEYXRhKSB7XG4gICAgICBwcm9maWxlRWRpdFBvcHVwLnNhdmluZ0Rpc3BsYXkodHJ1ZSk7XG4gICAgICBhcGlcbiAgICAgICAgLnBhdGNoVXNlckluZm8obmV3VXNlckRhdGEpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICB1c2VyLnNldFVzZXJJbmZvKG5ld1VzZXJEYXRhKTtcbiAgICAgICAgICBwcm9maWxlRWRpdFBvcHVwLmNsb3NlKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9KVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgcHJvZmlsZUVkaXRQb3B1cC5zYXZpbmdEaXNwbGF5KGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvZmlsZUVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICAgICAgXCIubW9kYWxfdHlwZV9wcm9maWxlXCIsXG4gICAgICBcInByb2ZpbGUtZm9ybVwiLFxuICAgICAgc2F2ZVByb2ZpbGVDaGFuZ2VzLFxuICAgICAgXCJTYXZlXCJcbiAgICApO1xuICAgIHByb2ZpbGVFZGl0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICBlZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBmb3JtVmFsaWRhdG9yc1tcInByb2ZpbGUtZm9ybVwiXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgICAgIGNvbnN0IGN1cnJlbnREYXRhID0gdXNlci5nZXRVc2VySW5mbygpO1xuICAgICAgcHJvZmlsZUVkaXRQb3B1cC5zZXRJbnB1dFZhbHVlcyhjdXJyZW50RGF0YSk7XG4gICAgICBwcm9maWxlRWRpdFBvcHVwLm9wZW4oKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHNhdmVBdmF0YXIobmV3QXZhdGFyKSB7XG4gICAgICBjaGFuZ2VBdmF0YXJQb3B1cC5zYXZpbmdEaXNwbGF5KHRydWUpO1xuICAgICAgYXBpXG4gICAgICAgIC5wYXRjaEF2YXRhcihuZXdBdmF0YXIpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICB1c2VyLnNldEF2YXRhcihuZXdBdmF0YXIpO1xuICAgICAgICAgIGNoYW5nZUF2YXRhclBvcHVwLnJlc2V0Rm9ybSgpO1xuICAgICAgICAgIGNoYW5nZUF2YXRhclBvcHVwLmNsb3NlKCk7XG4gICAgICAgICAgZm9ybVZhbGlkYXRvcnNbXCJhdmF0YXItZm9ybVwiXS5kaXNhYmxlQnV0dG9uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9KVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgY2hhbmdlQXZhdGFyUG9wdXAuc2F2aW5nRGlzcGxheShmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGNoYW5nZUF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gICAgICBcIi5tb2RhbF90eXBlX2F2YXRhclwiLFxuICAgICAgXCJhdmF0YXItZm9ybVwiLFxuICAgICAgc2F2ZUF2YXRhcixcbiAgICAgIFwiU2F2ZVwiXG4gICAgKTtcbiAgICBjaGFuZ2VBdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIGF2YXRhckNoYW5nZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgY2hhbmdlQXZhdGFyUG9wdXAub3BlbigpO1xuICAgIH0pO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcblxuY29uc3QgaGFuZGxlRGVsZXRlQnV0dG9uID0gKGNhcmQpID0+IHtcbiAgcG9wdXBDb25maXJtRGVsZXRlLm9wZW4oY2FyZCk7XG59O1xuXG5jb25zdCBoYW5kbGVEZWxldGVDb25maXJtID0gKGNhcmQpID0+IHtcbiAgYXBpXG4gICAgLmRlbGV0ZUNhcmQoY2FyZC5faWQpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgY2FyZC5oYW5kbGVEZWxldGVDb25maXJtKCk7XG4gICAgICBwb3B1cENvbmZpcm1EZWxldGUuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSk7XG59O1xuXG5jb25zdCBoYW5kbGVMaWtlQnV0dG9uID0gKGNhcmQpID0+IHtcbiAgaWYgKGNhcmQuaXNMaWtlZCA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gYXBpLnNldExpa2UoY2FyZC5faWQpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBhcGkucmVtb3ZlTGlrZShjYXJkLl9pZCk7XG4gIH1cbn07XG5cbmxldCBjYXJkU2VjdGlvbjtcbmFwaVxuICAuZ2V0SW5pdGlhbENhcmRzKClcbiAgLnRoZW4oKGNhcmRzKSA9PiB7XG4gICAgLy9jcmVhdGluZyBpbml0aWFsIGNhcmRzXG4gICAgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAgICAgIHtcbiAgICAgICAgaXRlbXM6IGNhcmRzLFxuICAgICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgXCIuY2FyZFwiLFxuICAgICAgICAgICAgaGFuZGxlSW1hZ2VDbGljayxcbiAgICAgICAgICAgIGhhbmRsZURlbGV0ZUJ1dHRvbixcbiAgICAgICAgICAgIGhhbmRsZUxpa2VCdXR0b25cbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgICAgICAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgXCIuY2FyZHNfX2xpc3RcIlxuICAgICk7XG4gICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XG5cbmNvbnN0IHNhdmVOZXdDYXJkID0gKG5ld0NhcmQpID0+IHtcbiAgYWRkQ2FyZFBvcHVwLnNhdmluZ0Rpc3BsYXkodHJ1ZSk7XG4gIGFwaVxuICAgIC5wb3N0Q2FyZChuZXdDYXJkKVxuICAgIC50aGVuKChjYXJkKSA9PiB7XG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xuICAgICAgYWRkQ2FyZFBvcHVwLmNsb3NlKCk7XG4gICAgICBhZGRDYXJkUG9wdXAucmVzZXRGb3JtKCk7XG4gICAgICBmb3JtVmFsaWRhdG9yc1tcImNhcmQtZm9ybVwiXS5kaXNhYmxlQnV0dG9uKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGFkZENhcmRQb3B1cC5zYXZpbmdEaXNwbGF5KGZhbHNlKTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IGFkZENhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIi5tb2RhbF90eXBlX2FkZC1jYXJkXCIsXG4gIFwiY2FyZC1mb3JtXCIsXG4gIHNhdmVOZXdDYXJkLFxuICBcIkNyZWF0ZVwiXG4pO1xuYWRkQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5hZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcbn0pO1xuXG4vL2hhbmRsZSBjYXJkIHBvcHVwc1xuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIubW9kYWxfdHlwZV9zaG93LWltYWdlXCIpO1xuY29uc3QgaGFuZGxlSW1hZ2VDbGljayA9IChjYXJkKSA9PiB7XG4gIHBvcHVwV2l0aEltYWdlLm9wZW4oY2FyZC5saW5rLCBjYXJkLm5hbWUpO1xufTtcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHBvcHVwQ29uZmlybURlbGV0ZSA9IG5ldyBQb3B1cENvbmZpcm1hdGlvbihcbiAgXCIubW9kYWxfdHlwZV9jb25maXJtXCIsXG4gIGhhbmRsZURlbGV0ZUNvbmZpcm1cbik7XG5wb3B1cENvbmZpcm1EZWxldGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiIsImV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLmZvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmZvcm1fX3N1Ym1pdFwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcImZvcm1fX3N1Ym1pdF9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcImZvcm1fX2Vycm9yLW1lc3NhZ2VfYWN0aXZlXCIsXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBfcmVxdWVzdCh1cmwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZmV0Y2godXJsLCBvcHRpb25zKS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH1gICsgYC91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigodXNlckluZm8pID0+IHtcbiAgICAgIHJldHVybiB1c2VySW5mbztcbiAgICB9KTtcbiAgfVxuXG4gIHBhdGNoVXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH1gICsgYC91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBwYXRjaEF2YXRhcih7IGF2YXRhciB9KSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH1gICsgYC91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH1gICsgYC9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigoY2FyZHMpID0+IHtcbiAgICAgIHJldHVybiBjYXJkcztcbiAgICB9KTtcbiAgfVxuXG4gIHBvc3RDYXJkKGNhcmQpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfWAgKyBgL2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGNhcmQubmFtZSxcbiAgICAgICAgbGluazogY2FyZC5saW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbigoY2FyZCkgPT4ge1xuICAgICAgcmV0dXJuIGNhcmQ7XG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH1gICsgYC9jYXJkcy9gICsgYCR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIHNldExpa2UoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfWAgKyBgL2NhcmRzL2AgKyBgJHtpZH1gICsgYC9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGlzTGlrZWQ6IHRydWUsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbW92ZUxpa2UoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfWAgKyBgL2NhcmRzL2AgKyBgJHtpZH1gICsgYC9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2ltYWdlTGFibGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1sYWJsZVwiKTtcbiAgfVxuXG4gIG9wZW4obGluaywgbmFtZSkge1xuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gbmFtZTtcbiAgICB0aGlzLl9pbWFnZUxhYmxlLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoSW1hZ2U7XG4iXSwibmFtZXMiOlsiU2VjdGlvbiIsImNvbnN0cnVjdG9yIiwiX3JlZiIsInRhcmdldE5vZGVTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJ0aGlzIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX3RhcmdldE5vZGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJyZW5kZXJJdGVtcyIsImZvckVhY2giLCJpdGVtIiwiYXBwZW5kIiwiYWRkSXRlbSIsInByZXBlbmQiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUJ1dHRvbiIsImhhbmRsZUxpa2VCdXR0b24iLCJuYW1lIiwibGluayIsIl9pZCIsImlzTGlrZWQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQnV0dG9uIiwiX2hhbmRsZUxpa2VCdXR0b24iLCJfZ2V0VGVtcGxhdGUiLCJjb250ZW50IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjbG9uZU5vZGUiLCJnZW5lcmF0ZUNhcmQiLCJfZWxlbWVudCIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9zZXRMaWtlSWNvblN0YXRlIiwidGV4dENvbnRlbnQiLCJfY2FyZEltYWdlRWxlbWVudCIsInNyYyIsImFsdCIsIl9jYXJkTGlrZUJ1dHRvbiIsIl9jYXJkRGVsZXRlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRoZW4iLCJfdG9nZ2xlTGlrZSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwidG9nZ2xlIiwiaGFuZGxlRGVsZXRlQ29uZmlybSIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2NvbmZpZyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsIl9idXR0b25FbGVtZW50Iiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpZCIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzb21lIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZGlzYWJsZUJ1dHRvbiIsIl9lbmFibGVCdXR0b24iLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiX2hhbmRsZUlucHV0IiwiYmluZCIsImN1cnJlbnRIYW5kbGUiLCJlbmFibGVWYWxpZGF0aW9uIiwicmVzZXRWYWxpZGF0aW9uIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX21vZGFsSXNPcGVuZWRDbGFzc05hbWUiLCJfZXNjUHJlc3NlZCIsIl9saXN0ZW5lclNldCIsIl9oYW5kbGVFc2NDbG9zZSIsIm9wZW4iLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRFdmVudExpc3RlbmVycyIsIl9jbG9zZU1vZGFsV2luZG93QnRuIiwiZXZlbnQiLCJ0YXJnZXQiLCJjb250YWlucyIsImtleSIsImZvcm1TZWxlY3RvciIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdWJtaXRUZXh0Iiwic3VwZXIiLCJfZm9ybSIsImZvcm1zIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfc3VibWl0QnRuIiwiX3N1Ym1pdFRleHQiLCJfc2V0QnV0dG9uVGV4dCIsIl9nZXRJbnB1dFZhbHVlcyIsIl9pbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJzZXRJbnB1dFZhbHVlcyIsInByZXZlbnREZWZhdWx0IiwicmVzZXRGb3JtIiwicmVzZXQiLCJzYXZpbmdEaXNwbGF5IiwiaXNTYXZpbmciLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImRlc2NyaXB0aW9uU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lIiwiX2Fib3V0IiwiX2F2YXRhciIsImdldFVzZXJJbmZvIiwiYWJvdXQiLCJzZXRVc2VySW5mbyIsInNldEF2YXRhciIsIl9yZWYyIiwiYXZhdGFyIiwiZWRpdEJ0biIsImFkZEJ0biIsImF2YXRhckNoYW5nZUJ0biIsImZvcm1WYWxpZGF0b3JzIiwidmFsaWRhdG9yIiwiRm9ybVZhbGlkYXRvciIsImZvcm1OYW1lIiwiZ2V0QXR0cmlidXRlIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiX3JlcXVlc3QiLCJ1cmwiLCJvcHRpb25zIiwiZmV0Y2giLCJ1c2VySW5mbyIsInBhdGNoVXNlckluZm8iLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInBhdGNoQXZhdGFyIiwiX3JlZjMiLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkcyIsInBvc3RDYXJkIiwiY2FyZCIsImRlbGV0ZUNhcmQiLCJzZXRMaWtlIiwicmVtb3ZlTGlrZSIsImF1dGhvcml6YXRpb24iLCJ1c2VyIiwicHJvZmlsZUVkaXRQb3B1cCIsIlBvcHVwV2l0aEZvcm0iLCJuZXdVc2VyRGF0YSIsImZpbmFsbHkiLCJjdXJyZW50RGF0YSIsImNoYW5nZUF2YXRhclBvcHVwIiwibmV3QXZhdGFyIiwicG9wdXBDb25maXJtRGVsZXRlIiwiY2FyZFNlY3Rpb24iLCJDYXJkIiwiYWRkQ2FyZFBvcHVwIiwibmV3Q2FyZCIsInBvcHVwV2l0aEltYWdlIiwiX2ltYWdlIiwiX2ltYWdlTGFibGUiLCJoYW5kbGVDb25maXJtIiwiX2J0biIsIl9oYW5kbGVDb25maXJtIiwiX3RhcmdldCJdLCJzb3VyY2VSb290IjoiIn0=