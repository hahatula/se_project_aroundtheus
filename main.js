!function(){"use strict";class e{constructor(e,t){let{items:s,renderer:i}=e;this._items=s,this._renderer=i,this._targetNode=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._targetNode.append(this._renderer(e))}))}addItem(e){this._targetNode.prepend(this._renderer(e))}}var t=class{constructor(e,t,s,i,n){this.name=e.name,this.link=e.link,this._id=e._id,this.isLiked=e.isLiked,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteButton=i,this._handleLikeButton=n}_getTemplate(){return document.querySelector("#card-template").content.firstElementChild.cloneNode(!0)}generateCard(){return this._element=this._getTemplate(),this._setEventListeners(),this._setLikeIconState(),this._element.querySelector(".card__title-text").textContent=this.name,this._cardImageElement.src=this.link,this._cardImageElement.alt=this.name,this._element}_setEventListeners(){this._cardLikeButton=this._element.querySelector(".card__fav-icon"),this._cardDeleteButton=this._element.querySelector(".card__trash-icon"),this._cardImageElement=this._element.querySelector(".card__image"),this._cardLikeButton.addEventListener("click",(()=>{this._handleLikeButton(this),this._toggleLikeIcon()})),this._cardDeleteButton.addEventListener("click",(()=>{this._handleDeleteButton(this)})),this._cardImageElement.addEventListener("click",(()=>{this._handleImageClick(this)}))}_setLikeIconState(){this.isLiked?this._cardLikeButton.classList.add("card__fav-icon_active"):this._cardLikeButton.classList.remove("card__fav-icon_active")}_toggleLikeIcon(){this._cardLikeButton.classList.toggle("card__fav-icon_active")}handleDeleteConfirm(){this._element.remove(),this._element=null}},s=class{constructor(e,t){this._config=e,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)}_showInputError(e,t){const s=this._formElement.querySelector(`.${e.id}-error-message`);e.classList.add(this._config.inputErrorClass),s.classList.add(this._config.errorClass),s.textContent=t}_hideInputError(e){const t=this._formElement.querySelector(`.${e.id}-error-message`);t&&(e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass))}_checkValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():this._enableButton()}disableButton(){this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.setAttribute("disabled","")}_enableButton(){this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.removeAttribute("disabled")}_handleInput(e){this._toggleButtonState(),this._checkValidity(e)}_setEventListeners(){this.disableButton(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._handleInput.bind(this)(e)}))}))}enableValidation(){this._setEventListeners()}resetValidation(){this.disableButton(),this._inputList.forEach((e=>{this._hideInputError(e)}))}};class i{constructor(e){let{popupSelector:t}=e;this._popup=document.querySelector(t),this._modalIsOpenedClassName="modal_opened",this._escPressed=!1,this._listenerSet=!1,this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popup.classList.add(this._modalIsOpenedClassName),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove(this._modalIsOpenedClassName),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._closeModalWindowBtn=this._popup.querySelector(".modal__close-btn"),this._closeModalWindowBtn.addEventListener("click",(()=>{this.close()})),this._popup.addEventListener("click",(e=>{const t=this.close.bind(this);e.target.classList.contains("modal")&&t()}))}_handleEscClose(e){"Escape"===e.key&&this.close()}}var n=class extends i{constructor(e,t,s,i){super({popupSelector:e}),this._form=document.forms[t],this._handleFormSubmit=s,this._inputList=this._form.querySelectorAll("input"),this._submitBtn=this._form.querySelector(".form__submit"),this._submitText=i,this._setButtonText()}_getInputValues(){return this._inputValues={},this._inputList.forEach((e=>{this._inputValues[e.name]=e.value})),this._inputValues}_setButtonText(){this._submitBtn.textContent=this._submitText}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}resetForm(){this._form.reset()}savingDisplay(e){!0===e?this._submitBtn.textContent="Saving...":this._setButtonText()}};class r{constructor(e,t,s){this._name=document.querySelector(e),this._about=document.querySelector(t),this._avatar=document.querySelector(s)}getUserInfo(){return{name:this._name.textContent,about:this._about.textContent}}setUserInfo(e){let{name:t,about:s}=e;this._name.textContent=t,this._about.textContent=s}setAvatar(e){let{avatar:t}=e;this._avatar.src=t}}const o=document.querySelector(".explorer__edit-button"),a=document.querySelector(".explorer__add-button"),c=document.querySelector(".explorer__photo-overlay"),l={};var h;h={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"form__submit_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__error-message_active"},Array.from(document.querySelectorAll(h.formSelector)).forEach((e=>{const t=new s(h,e),i=e.getAttribute("name");l[i]=t,t.enableValidation()}));const d=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:{authorization:"9e620f98-b2bc-4f4a-81bd-341fb1cf797f","Content-Type":"application/json"}}).then(this.checkResponse).then((e=>e)).catch((e=>{console.error(e)}))}patchUserInfo(e){let{name:t,about:s}=e;return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:{authorization:"9e620f98-b2bc-4f4a-81bd-341fb1cf797f","Content-Type":"application/json"},body:JSON.stringify({name:t,about:s})}).then(this.checkResponse).catch((e=>{console.error(e)}))}patchAvatar(e){let{avatar:t}=e;return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:{authorization:"9e620f98-b2bc-4f4a-81bd-341fb1cf797f","Content-Type":"application/json"},body:JSON.stringify({avatar:t})}).then(this.checkResponse).catch((e=>{console.error(e)}))}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:{authorization:"9e620f98-b2bc-4f4a-81bd-341fb1cf797f","Content-Type":"application/json"}}).then(this.checkResponse).then((e=>e)).catch((e=>{console.error(e)}))}postCard(e){let{name:t,link:s}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:{authorization:"9e620f98-b2bc-4f4a-81bd-341fb1cf797f","Content-Type":"application/json"},body:JSON.stringify({name:t,link:s})}).then(this.checkResponse).catch((e=>{console.error(e)}))}deleteCard(e){fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:{authorization:"9e620f98-b2bc-4f4a-81bd-341fb1cf797f"}}).then(this.checkResponse).catch((e=>{console.error(e)}))}setLike(e){fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:{authorization:"9e620f98-b2bc-4f4a-81bd-341fb1cf797f"},body:JSON.stringify({isLiked:!0})}).then(this.checkResponse).catch((e=>{console.error(e)}))}removeLike(e){fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:{authorization:"9e620f98-b2bc-4f4a-81bd-341fb1cf797f"}}).then(this.checkResponse).catch((e=>{console.error(e)}))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"9e620f98-b2bc-4f4a-81bd-341fb1cf797f"}});d.getUserInfo().then((e=>{const t=new r(".explorer__name",".explorer__description",".explorer__photo");return t.setUserInfo({name:e.name,about:e.about}),t.setAvatar({avatar:e.avatar}),t})).then((e=>{const t=new n(".modal_type_profile","profile-form",(function(s){t.savingDisplay(!0),e.setUserInfo(s),d.patchUserInfo(s).then((()=>{t.close(),t.savingDisplay(!1)}))}),"Save");t.setEventListeners(),o.addEventListener("click",(()=>{l["profile-form"].resetValidation();const s=e.getUserInfo();t.setInputValues(s),t.open()}));const s=new n(".modal_type_avatar","avatar-form",(function(t){s.savingDisplay(!0),e.setAvatar(t),d.patchAvatar(t).then((()=>{s.resetForm(),s.close(),s.savingDisplay(!1),l["avatar-form"].disableButton()}))}),"Save");s.setEventListeners(),c.addEventListener("click",(()=>{s.open()}))})).catch((e=>console.error(e)));const _=e=>{f.open(e)},u=e=>{!1===e.isLiked?d.setLike(e._id):d.removeLike(e._id),e.isLiked=!e.isLiked};d.getInitialCards().then((s=>{const i=new e({items:s,renderer:e=>new t(e,".card",p,_,u).generateCard()},".cards__list");return i.renderItems(),i})).then((e=>{const t=new n(".modal_type_add-card","card-form",(s=>{t.savingDisplay(!0),e.addItem(s),d.postCard(s).then((()=>{t.resetForm(),t.close(),t.savingDisplay(!1),l["card-form"].disableButton()}))}),"Create");t.setEventListeners(),a.addEventListener("click",(()=>{t.open()}))})).catch((e=>console.error(e)));const m=new class extends i{constructor(e){super({popupSelector:e}),this._image=this._popup.querySelector(".modal__image"),this._imageLable=this._popup.querySelector(".modal__image-lable")}open(e,t){this._image.src=e,this._image.alt=t,this._imageLable.textContent=t,super.open()}}(".modal_type_show-image"),p=e=>{m.open(e.link,e.name)};m.setEventListeners();const f=new class extends i{constructor(e,t){super({popupSelector:e}),this._btn=this._popup.querySelector(".modal__confirm-btn"),this._handleConfirm=t}open(e){this._target=e,super.open()}setEventListeners(){super.setEventListeners(),this._btn.addEventListener("click",(()=>{this._handleConfirm(this._target)}))}}(".modal_type_confirm",(e=>{e.handleDeleteConfirm(),f.close(),d.deleteCard(e._id)}));f.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFTLEtBQ2xDdkMsS0FBSytMLGVBQWUvTCxLQUFLZ00sUUFBUSxHQUdyQyxHRytKQSx1QkFyRTJCWixJQUMzQkEsRUFBS3ZJLHNCQUVMd0ksRUFBbUIzRixRQUNuQmlELEVBQUkrQixXQUFXVSxFQUFLakssSUFBSSxJQW9FMUJrSyxFQUFtQnpGLG1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdHJpcGxlX3Rlbi8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vdHJpcGxlX3Rlbi8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vdHJpcGxlX3Rlbi8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vdHJpcGxlX3Rlbi8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3RyaXBsZV90ZW4vLi9zcmMvY29tcG9uZW50cy9Qb3B1cENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly90cmlwbGVfdGVuLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly90cmlwbGVfdGVuLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vdHJpcGxlX3Rlbi8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90cmlwbGVfdGVuLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly90cmlwbGVfdGVuLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3RyaXBsZV90ZW4vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgdGFyZ2V0Tm9kZVNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtczsgLy9zaG91bGQgYmUgYXJyYXlcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyOyAvL2Z1bmN0aW9uXG4gICAgdGhpcy5fdGFyZ2V0Tm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0Tm9kZVNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3RhcmdldE5vZGUuYXBwZW5kKHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oaXRlbSkge1xuICAgIHRoaXMuX3RhcmdldE5vZGUucHJlcGVuZCh0aGlzLl9yZW5kZXJlcihpdGVtKSk7XG4gIH1cbn1cbiIsImNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBkYXRhLFxuICAgIGNhcmRTZWxlY3RvcixcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUJ1dHRvbixcbiAgICBoYW5kbGVMaWtlQnV0dG9uXG4gICkge1xuICAgIHRoaXMubmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLmxpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLmlzTGlrZWQgPSBkYXRhLmlzTGlrZWQ7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbiA9IGhhbmRsZURlbGV0ZUJ1dHRvbjtcbiAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uID0gaGFuZGxlTGlrZUJ1dHRvbjtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpXG4gICAgICAuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fc2V0TGlrZUljb25TdGF0ZSgpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlLXRleHRcIikudGV4dENvbnRlbnQgPSB0aGlzLm5hbWU7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5zcmMgPSB0aGlzLmxpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5hbHQgPSB0aGlzLm5hbWU7XG4gICBcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jYXJkTGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19mYXYtaWNvblwiKTtcbiAgICB0aGlzLl9jYXJkRGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RyYXNoLWljb25cIik7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcblxuICAgIHRoaXMuX2NhcmRMaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKHRoaXMpO1xuICAgICAgdGhpcy5fdG9nZ2xlTGlrZUljb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jYXJkRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24odGhpcyk7XG4gICAgfSk7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9zZXRMaWtlSWNvblN0YXRlKCkge1xuICAgIHRoaXMuaXNMaWtlZFxuICAgICAgPyB0aGlzLl9jYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fZmF2LWljb25fYWN0aXZlXCIpXG4gICAgICA6IHRoaXMuX2NhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19mYXYtaWNvbl9hY3RpdmVcIik7XG4gIH1cblxuICBfdG9nZ2xlTGlrZUljb24oKSB7XG4gICAgdGhpcy5fY2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2Zhdi1pY29uX2FjdGl2ZVwiKTtcbiAgfVxuXG4gIGhhbmRsZURlbGV0ZUNvbmZpcm0oKSB7XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDsgLy9yZW1vdmUgdGhlIGxpbmsgdG8gdGhlIERPTSBlbGVtZW50IGFmdGVyIGRlbGV0aW5nIGEgY2FyZC4gSXQgaGVscHMgamF2YXNjcmlwdCBnYXJiYWdlIGNvbGxlY3Rvci5cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9jb25maWcuaW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvci1tZXNzYWdlYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3ItbWVzc2FnZWBcbiAgICApO1xuICAgIGlmIChlcnJvckVsZW1lbnQpIHtcbiAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xuICAgIH1cbiAgfVxuXG4gIF9jaGVja1ZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgdGhpcy5faGFzSW52YWxpZElucHV0KCkgPyB0aGlzLmRpc2FibGVCdXR0b24oKSA6IHRoaXMuX2VuYWJsZUJ1dHRvbigpO1xuICB9XG5cbiAgZGlzYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIC8vYWRkIGF0dHJpYnV0ZSBcImRpc2FibGVkXCIgdG8gcHJldmVudCBzdWJtaXQgb24gXCJFbnRlclwiXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcIlwiKTtcbiAgfVxuXG4gIF9lbmFibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICB9XG5cbiAgX2hhbmRsZUlucHV0KGlucHV0RWxlbWVudCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5fY2hlY2tWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuZGlzYWJsZUJ1dHRvbigpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50SGFuZGxlID0gdGhpcy5faGFuZGxlSW5wdXQuYmluZCh0aGlzKTtcbiAgICAgICAgY3VycmVudEhhbmRsZShpbnB1dEVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9tb2RhbElzT3BlbmVkQ2xhc3NOYW1lID0gXCJtb2RhbF9vcGVuZWRcIjtcbiAgICB0aGlzLl9lc2NQcmVzc2VkID0gZmFsc2U7XG4gICAgdGhpcy5fbGlzdGVuZXJTZXQgPSBmYWxzZTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQodGhpcy5fbW9kYWxJc09wZW5lZENsYXNzTmFtZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9tb2RhbElzT3BlbmVkQ2xhc3NOYW1lKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jbG9zZU1vZGFsV2luZG93QnRuID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuXCIpO1xuICAgIHRoaXMuX2Nsb3NlTW9kYWxXaW5kb3dCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRIYW5kbGUgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsXCIpKSB7XG4gICAgICAgIGN1cnJlbnRIYW5kbGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5jbGFzcyBQb3B1cENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlQ29uZmlybSkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9idG4gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jb25maXJtLWJ0blwiKTtcbiAgICB0aGlzLl9oYW5kbGVDb25maXJtID0gaGFuZGxlQ29uZmlybTtcbiAgfVxuXG4gIG9wZW4odGFyZ2V0KSB7XG4gICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDb25maXJtKHRoaXMuX3RhcmdldCk7XG4gICAgfSk7XG4gICAgLy93ZSBjYW4gYWRkIG90aGVyIGNvbmZpcm1hdGlvbnMgaGVyZVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwQ29uZmlybWF0aW9uO1xuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGZvcm1TZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCwgc3VibWl0VGV4dCkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9mb3JtID0gZG9jdW1lbnQuZm9ybXNbZm9ybVNlbGVjdG9yXTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFwiKTtcbiAgICB0aGlzLl9zdWJtaXRCdG4gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fc3VibWl0XCIpO1xuICAgIHRoaXMuX3N1Ym1pdFRleHQgPSBzdWJtaXRUZXh0O1xuICAgIHRoaXMuX3NldEJ1dHRvblRleHQoKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9pbnB1dFZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5faW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRWYWx1ZXM7XG4gIH1cblxuICBfc2V0QnV0dG9uVGV4dCgpIHtcbiAgICB0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRUZXh0O1xuICB9XG5cbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgLy8gaGVyZSB5b3UgaW5zZXJ0IHRoZSBgdmFsdWVgIGJ5IHRoZSBgbmFtZWAgb2YgdGhlIGlucHV0XG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XG4gICAgfSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pO1xuICB9XG5cbiAgcmVzZXRGb3JtKCkge1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgfVxuXG4gIHNhdmluZ0Rpc3BsYXkoaXNTYXZpbmcpIHtcbiAgICBpZiAoaXNTYXZpbmcgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCJcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2V0QnV0dG9uVGV4dCgpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhGb3JtO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3RvcihuYW1lU2VsZWN0b3IsIGRlc2NyaXB0aW9uU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGVzY3JpcHRpb25TZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICBjb25zdCBuYW1lID0gdGhpcy5fbmFtZS50ZXh0Q29udGVudDtcbiAgICBjb25zdCBhYm91dCA9IHRoaXMuX2Fib3V0LnRleHRDb250ZW50O1xuICAgIGNvbnN0IHVzZXJJbmZvID0geyBuYW1lLCBhYm91dCB9O1xuICAgIHJldHVybiB1c2VySW5mbztcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX2Fib3V0LnRleHRDb250ZW50ID0gYWJvdXQ7XG4gIH1cblxuICBzZXRBdmF0YXIgKHsgYXZhdGFyIH0pIHtcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gYXZhdGFyO1xuICB9XG59XG4iLCJpbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgUG9wdXBDb25maXJtYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBDb25maXJtYXRpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0aW9uQ29uZmlnIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5cbmNvbnN0IGVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmV4cGxvcmVyX19lZGl0LWJ1dHRvblwiKTtcbmNvbnN0IGFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXhwbG9yZXJfX2FkZC1idXR0b25cIik7XG5jb25zdCBhdmF0YXJDaGFuZ2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmV4cGxvcmVyX19waG90by1vdmVybGF5XCIpO1xuXG4vLyBkZWZpbmUgYW4gb2JqZWN0IGZvciBzdG9yaW5nIHZhbGlkYXRvcnNcbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XG5cbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKTtcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1FbGVtZW50KTtcbiAgICAvLyBnZXQgdGhlIG5hbWUgb2YgdGhlIGZvcm1cbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XG4gICAgLy8gc3RvcmUgdGhlIHZhbGlkYXRvciB1c2luZyB0aGUgYG5hbWVgIG9mIHRoZSBmb3JtXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufTtcblxuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uQ29uZmlnKTtcblxuLy9hcGlcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjllNjIwZjk4LWIyYmMtNGY0YS04MWJkLTM0MWZiMWNmNzk3ZlwiLFxuICB9LFxufSk7XG5cbi8vdXNlclxuYXBpXG4gIC5nZXRVc2VySW5mbygpXG4gIC50aGVuKCh1c2VySW5mbykgPT4ge1xuICAgIC8vc2V0IHVzZXIgaW5mb1xuICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlckluZm8oXG4gICAgICBcIi5leHBsb3Jlcl9fbmFtZVwiLFxuICAgICAgXCIuZXhwbG9yZXJfX2Rlc2NyaXB0aW9uXCIsXG4gICAgICBcIi5leHBsb3Jlcl9fcGhvdG9cIlxuICAgICk7XG4gICAgdXNlci5zZXRVc2VySW5mbyh7XG4gICAgICBuYW1lOiB1c2VySW5mby5uYW1lLFxuICAgICAgYWJvdXQ6IHVzZXJJbmZvLmFib3V0LFxuICAgIH0pO1xuICAgIHVzZXIuc2V0QXZhdGFyKHsgYXZhdGFyOiB1c2VySW5mby5hdmF0YXIgfSk7XG4gICAgcmV0dXJuIHVzZXI7XG4gIH0pXG4gIC50aGVuKCh1c2VyKSA9PiB7XG4gICAgLy9jYWhuZ2luZyB1c2VyIGRldGFpbHNcbiAgICBmdW5jdGlvbiBzYXZlUHJvZmlsZUNoYW5nZXMobmV3VXNlckRhdGEpIHtcbiAgICAgIHByb2ZpbGVFZGl0UG9wdXAuc2F2aW5nRGlzcGxheSh0cnVlKTtcbiAgICAgIHVzZXIuc2V0VXNlckluZm8obmV3VXNlckRhdGEpO1xuICAgICAgYXBpLnBhdGNoVXNlckluZm8obmV3VXNlckRhdGEpLnRoZW4oKCkgPT4ge1xuICAgICAgICBwcm9maWxlRWRpdFBvcHVwLmNsb3NlKCk7XG4gICAgICAgIHByb2ZpbGVFZGl0UG9wdXAuc2F2aW5nRGlzcGxheShmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9maWxlRWRpdFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gICAgICBcIi5tb2RhbF90eXBlX3Byb2ZpbGVcIixcbiAgICAgIFwicHJvZmlsZS1mb3JtXCIsXG4gICAgICBzYXZlUHJvZmlsZUNoYW5nZXMsXG4gICAgICBcIlNhdmVcIlxuICAgICk7XG4gICAgcHJvZmlsZUVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIGVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGZvcm1WYWxpZGF0b3JzW1wicHJvZmlsZS1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xuICAgICAgY29uc3QgY3VycmVudERhdGEgPSB1c2VyLmdldFVzZXJJbmZvKCk7XG4gICAgICBwcm9maWxlRWRpdFBvcHVwLnNldElucHV0VmFsdWVzKGN1cnJlbnREYXRhKTtcbiAgICAgIHByb2ZpbGVFZGl0UG9wdXAub3BlbigpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gc2F2ZUF2YXRhcihuZXdBdmF0YXIpIHtcbiAgICAgIGNoYW5nZUF2YXRhclBvcHVwLnNhdmluZ0Rpc3BsYXkodHJ1ZSk7XG4gICAgICB1c2VyLnNldEF2YXRhcihuZXdBdmF0YXIpO1xuICAgICAgYXBpLnBhdGNoQXZhdGFyKG5ld0F2YXRhcikudGhlbigoKSA9PiB7XG4gICAgICAgIGNoYW5nZUF2YXRhclBvcHVwLnJlc2V0Rm9ybSgpO1xuICAgICAgICBjaGFuZ2VBdmF0YXJQb3B1cC5jbG9zZSgpO1xuICAgICAgICBjaGFuZ2VBdmF0YXJQb3B1cC5zYXZpbmdEaXNwbGF5KGZhbHNlKTtcbiAgICAgICAgZm9ybVZhbGlkYXRvcnNbXCJhdmF0YXItZm9ybVwiXS5kaXNhYmxlQnV0dG9uKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBjaGFuZ2VBdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICAgICAgXCIubW9kYWxfdHlwZV9hdmF0YXJcIixcbiAgICAgIFwiYXZhdGFyLWZvcm1cIixcbiAgICAgIHNhdmVBdmF0YXIsXG4gICAgICBcIlNhdmVcIlxuICAgICk7XG4gICAgY2hhbmdlQXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICBhdmF0YXJDaGFuZ2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGNoYW5nZUF2YXRhclBvcHVwLm9wZW4oKTtcbiAgICB9KTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XG5cbmNvbnN0IGhhbmRsZURlbGV0ZUJ1dHRvbiA9IChjYXJkKSA9PiB7XG4gIHBvcHVwQ29uZmlybURlbGV0ZS5vcGVuKGNhcmQpO1xufTtcblxuY29uc3QgaGFuZGxlRGVsZXRlQ29uZmlybSA9IChjYXJkKSA9PiB7XG4gIGNhcmQuaGFuZGxlRGVsZXRlQ29uZmlybSgpO1xuICAvLyAgIC8vZGVsZXRlRnJvbVNlcnZlcih0aGlzLl9pZClcbiAgcG9wdXBDb25maXJtRGVsZXRlLmNsb3NlKCk7XG4gIGFwaS5kZWxldGVDYXJkKGNhcmQuX2lkKTtcbn07XG5cbmNvbnN0IGhhbmRsZUxpa2VCdXR0b24gPSAoY2FyZCkgPT4ge1xuICBjYXJkLmlzTGlrZWQgPT09IGZhbHNlID8gYXBpLnNldExpa2UoY2FyZC5faWQpIDogYXBpLnJlbW92ZUxpa2UoY2FyZC5faWQpO1xuICBjYXJkLmlzTGlrZWQgPSAhY2FyZC5pc0xpa2VkO1xufTtcblxuYXBpXG4gIC5nZXRJbml0aWFsQ2FyZHMoKVxuICAudGhlbigoY2FyZHMpID0+IHtcbiAgICAvL2NyZWF0aW5nIGluaXRpYWwgY2FyZHNcbiAgICBjb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICAgICAge1xuICAgICAgICBpdGVtczogY2FyZHMsXG4gICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICBcIi5jYXJkXCIsXG4gICAgICAgICAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgICAgICAgICAgaGFuZGxlRGVsZXRlQnV0dG9uLFxuICAgICAgICAgICAgaGFuZGxlTGlrZUJ1dHRvblxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICAgICAgICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBcIi5jYXJkc19fbGlzdFwiXG4gICAgKTtcbiAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuICAgIHJldHVybiBjYXJkU2VjdGlvbjtcbiAgfSlcbiAgLnRoZW4oKGNhcmRTZWN0aW9uKSA9PiB7XG4gICAgY29uc3Qgc2F2ZU5ld0NhcmQgPSAobmV3Q2FyZCkgPT4ge1xuICAgICAgYWRkQ2FyZFBvcHVwLnNhdmluZ0Rpc3BsYXkodHJ1ZSk7XG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKG5ld0NhcmQpO1xuICAgICAgYXBpLnBvc3RDYXJkKG5ld0NhcmQpLnRoZW4oKCkgPT4ge1xuICAgICAgICBhZGRDYXJkUG9wdXAucmVzZXRGb3JtKCk7XG4gICAgICAgIGFkZENhcmRQb3B1cC5jbG9zZSgpO1xuICAgICAgICBhZGRDYXJkUG9wdXAuc2F2aW5nRGlzcGxheShmYWxzZSk7XG4gICAgICAgIGZvcm1WYWxpZGF0b3JzW1wiY2FyZC1mb3JtXCJdLmRpc2FibGVCdXR0b24oKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBhZGRDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgICAgIFwiLm1vZGFsX3R5cGVfYWRkLWNhcmRcIixcbiAgICAgIFwiY2FyZC1mb3JtXCIsXG4gICAgICBzYXZlTmV3Q2FyZCxcbiAgICAgIFwiQ3JlYXRlXCJcbiAgICApO1xuICAgIGFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIGFkZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcbiAgICB9KTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XG5cbi8vaGFuZGxlIGNhcmQgcG9wdXBzXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5tb2RhbF90eXBlX3Nob3ctaW1hZ2VcIik7XG5jb25zdCBoYW5kbGVJbWFnZUNsaWNrID0gKGNhcmQpID0+IHtcbiAgcG9wdXBXaXRoSW1hZ2Uub3BlbihjYXJkLmxpbmssIGNhcmQubmFtZSk7XG59O1xucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgcG9wdXBDb25maXJtRGVsZXRlID0gbmV3IFBvcHVwQ29uZmlybWF0aW9uKFxuICBcIi5tb2RhbF90eXBlX2NvbmZpcm1cIixcbiAgaGFuZGxlRGVsZXRlQ29uZmlybVxuKTtcbnBvcHVwQ29uZmlybURlbGV0ZS5zZXRFdmVudExpc3RlbmVycygpO1xuIiwiZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIuZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fc3VibWl0XCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiZm9ybV9fc3VibWl0X2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwiZm9ybV9fZXJyb3ItbWVzc2FnZV9hY3RpdmVcIixcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgY2hlY2tSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9YCArIGAvdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiOWU2MjBmOTgtYjJiYy00ZjRhLTgxYmQtMzQxZmIxY2Y3OTdmXCIsXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5jaGVja1Jlc3BvbnNlKVxuICAgICAgLnRoZW4oKHVzZXJJbmZvKSA9PiB7XG4gICAgICAgIHJldHVybiB1c2VySW5mbztcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7IC8vIGxvZyB0aGUgZXJyb3IgdG8gdGhlIGNvbnNvbGVcbiAgICAgIH0pO1xuICB9XG5cbiAgcGF0Y2hVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1gICsgYC91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiBcIjllNjIwZjk4LWIyYmMtNGY0YS04MWJkLTM0MWZiMWNmNzk3ZlwiLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGFib3V0OiBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLmNoZWNrUmVzcG9uc2UpXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7IC8vIGxvZyB0aGUgZXJyb3IgdG8gdGhlIGNvbnNvbGVcbiAgICAgIH0pO1xuICB9XG5cbiAgcGF0Y2hBdmF0YXIoeyBhdmF0YXIgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWAgKyBgL3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiBcIjllNjIwZjk4LWIyYmMtNGY0YS04MWJkLTM0MWZiMWNmNzk3ZlwiLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuY2hlY2tSZXNwb25zZSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsgLy8gbG9nIHRoZSBlcnJvciB0byB0aGUgY29uc29sZVxuICAgICAgfSk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9YCArIGAvY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiOWU2MjBmOTgtYjJiYy00ZjRhLTgxYmQtMzQxZmIxY2Y3OTdmXCIsXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5jaGVja1Jlc3BvbnNlKVxuICAgICAgLnRoZW4oKGNhcmRzKSA9PiB7XG4gICAgICAgIHJldHVybiBjYXJkcztcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7IC8vIGxvZyB0aGUgZXJyb3IgdG8gdGhlIGNvbnNvbGVcbiAgICAgIH0pO1xuICB9XG5cbiAgcG9zdENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1gICsgYC9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiOWU2MjBmOTgtYjJiYy00ZjRhLTgxYmQtMzQxZmIxY2Y3OTdmXCIsXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgbGluazogbGluayxcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLmNoZWNrUmVzcG9uc2UpXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7IC8vIGxvZyB0aGUgZXJyb3IgdG8gdGhlIGNvbnNvbGVcbiAgICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChpZCkge1xuICAgIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9YCArIGAvY2FyZHMvYCArIGAke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCI5ZTYyMGY5OC1iMmJjLTRmNGEtODFiZC0zNDFmYjFjZjc5N2ZcIixcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuY2hlY2tSZXNwb25zZSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsgLy8gbG9nIHRoZSBlcnJvciB0byB0aGUgY29uc29sZVxuICAgICAgfSk7XG4gIH1cblxuICBzZXRMaWtlKGlkKSB7XG4gICAgZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1gICsgYC9jYXJkcy9gICsgYCR7aWR9YCArIGAvbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiOWU2MjBmOTgtYjJiYy00ZjRhLTgxYmQtMzQxZmIxY2Y3OTdmXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBpc0xpa2VkOiB0cnVlLFxuICAgICAgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuY2hlY2tSZXNwb25zZSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsgLy8gbG9nIHRoZSBlcnJvciB0byB0aGUgY29uc29sZVxuICAgICAgfSk7XG4gIH1cblxuICByZW1vdmVMaWtlKGlkKSB7XG4gICAgZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1gICsgYC9jYXJkcy9gICsgYCR7aWR9YCArIGAvbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiOWU2MjBmOTgtYjJiYy00ZjRhLTgxYmQtMzQxZmIxY2Y3OTdmXCIsXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLmNoZWNrUmVzcG9uc2UpXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7IC8vIGxvZyB0aGUgZXJyb3IgdG8gdGhlIGNvbnNvbGVcbiAgICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcbiAgICB0aGlzLl9pbWFnZUxhYmxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2UtbGFibGVcIik7XG4gIH1cblxuICBvcGVuKGxpbmssIG5hbWUpIHtcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX2ltYWdlLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5faW1hZ2VMYWJsZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEltYWdlO1xuIl0sIm5hbWVzIjpbIlNlY3Rpb24iLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJ0YXJnZXROb2RlU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwidGhpcyIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl90YXJnZXROb2RlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicmVuZGVySXRlbXMiLCJmb3JFYWNoIiwiaXRlbSIsImFwcGVuZCIsImFkZEl0ZW0iLCJwcmVwZW5kIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGVCdXR0b24iLCJoYW5kbGVMaWtlQnV0dG9uIiwibmFtZSIsImxpbmsiLCJfaWQiLCJpc0xpa2VkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUJ1dHRvbiIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2dldFRlbXBsYXRlIiwiY29udGVudCIsImZpcnN0RWxlbWVudENoaWxkIiwiY2xvbmVOb2RlIiwiZ2VuZXJhdGVDYXJkIiwiX2VsZW1lbnQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfc2V0TGlrZUljb25TdGF0ZSIsInRleHRDb250ZW50IiwiX2NhcmRJbWFnZUVsZW1lbnQiLCJzcmMiLCJhbHQiLCJfY2FyZExpa2VCdXR0b24iLCJfY2FyZERlbGV0ZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJfdG9nZ2xlTGlrZUljb24iLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJ0b2dnbGUiLCJoYW5kbGVEZWxldGVDb25maXJtIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfY29uZmlnIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiX2J1dHRvbkVsZW1lbnQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja1ZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hhc0ludmFsaWRJbnB1dCIsInNvbWUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlQnV0dG9uIiwiX2VuYWJsZUJ1dHRvbiIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfaGFuZGxlSW5wdXQiLCJiaW5kIiwiY3VycmVudEhhbmRsZSIsImVuYWJsZVZhbGlkYXRpb24iLCJyZXNldFZhbGlkYXRpb24iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfbW9kYWxJc09wZW5lZENsYXNzTmFtZSIsIl9lc2NQcmVzc2VkIiwiX2xpc3RlbmVyU2V0IiwiX2hhbmRsZUVzY0Nsb3NlIiwib3BlbiIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwiX2Nsb3NlTW9kYWxXaW5kb3dCdG4iLCJldmVudCIsInRhcmdldCIsImNvbnRhaW5zIiwia2V5IiwiZm9ybVNlbGVjdG9yIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1Ym1pdFRleHQiLCJzdXBlciIsIl9mb3JtIiwiZm9ybXMiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9zdWJtaXRCdG4iLCJfc3VibWl0VGV4dCIsIl9zZXRCdXR0b25UZXh0IiwiX2dldElucHV0VmFsdWVzIiwiX2lucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInNldElucHV0VmFsdWVzIiwicHJldmVudERlZmF1bHQiLCJyZXNldEZvcm0iLCJyZXNldCIsInNhdmluZ0Rpc3BsYXkiLCJpc1NhdmluZyIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiZGVzY3JpcHRpb25TZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWUiLCJfYWJvdXQiLCJfYXZhdGFyIiwiZ2V0VXNlckluZm8iLCJhYm91dCIsInNldFVzZXJJbmZvIiwic2V0QXZhdGFyIiwiX3JlZjIiLCJhdmF0YXIiLCJlZGl0QnRuIiwiYWRkQnRuIiwiYXZhdGFyQ2hhbmdlQnRuIiwiZm9ybVZhbGlkYXRvcnMiLCJ2YWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJjaGVja1Jlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwiYXV0aG9yaXphdGlvbiIsInRoZW4iLCJ1c2VySW5mbyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwicGF0Y2hVc2VySW5mbyIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicGF0Y2hBdmF0YXIiLCJfcmVmMyIsImdldEluaXRpYWxDYXJkcyIsImNhcmRzIiwicG9zdENhcmQiLCJfcmVmNCIsImRlbGV0ZUNhcmQiLCJzZXRMaWtlIiwicmVtb3ZlTGlrZSIsInVzZXIiLCJwcm9maWxlRWRpdFBvcHVwIiwiUG9wdXBXaXRoRm9ybSIsIm5ld1VzZXJEYXRhIiwiY3VycmVudERhdGEiLCJjaGFuZ2VBdmF0YXJQb3B1cCIsIm5ld0F2YXRhciIsImNhcmQiLCJwb3B1cENvbmZpcm1EZWxldGUiLCJjYXJkU2VjdGlvbiIsIkNhcmQiLCJhZGRDYXJkUG9wdXAiLCJuZXdDYXJkIiwicG9wdXBXaXRoSW1hZ2UiLCJfaW1hZ2UiLCJfaW1hZ2VMYWJsZSIsImhhbmRsZUNvbmZpcm0iLCJfYnRuIiwiX2hhbmRsZUNvbmZpcm0iLCJfdGFyZ2V0Il0sInNvdXJjZVJvb3QiOiIifQ==